@model BookingTicket.ViewModels.ProjectionViewModel

@{
    string[] times = { "11:00", "13:00", "16:30", "20:00", "23:30" };
}

<form id="addProject" style="margin-top: 56px;">
    <div class="container">
        <div class="form-group">
            <select id="selectMovie" name="MovieId" class="form-control">
                @foreach (var movie in Model.Movies)
                {
                    <option value="@movie.MovieId">@movie.Title</option>
                }
            </select>
        </div>
        <div class="form-group">
            <select id="selectHall" name="HallId" class="form-control">
                @foreach (var hall in Model.Halls)
                {
                    <option value="@hall.HallId">@hall.Name</option>
                }
            </select>
        </div>
        <div class="form-group">
            <select id="selectTime" name="Time" class="form-control">
                @foreach (var time in times)
                {
                    <option value="@time">@time</option>
                }
            </select>
        </div>
        <a id="addProjectionBtn" class="btn btn-danger">Dodaj projekciju</a>
    </div>
</form>

<script>
    $("#addProjectionBtn").click(function () {
          $.ajax({
                type: 'POST',
                url: '@Url.Action("AddProjection", "Projection")',
              data: $("#addProject").serialize()
            })
            .done(function (response) {
                $("#movieActionContainer").html("");
                     swal("Gotovo", "Projekcija je uspešno dodata.", "success").then((value) => {
                        window.location = '@Url.Action("Index","Projection")';
                    });
            })
            .fail(function (XMLHttpRequest, textStatus, errorThrown) {
                alert("FAIL");
            });
    });
</script>
